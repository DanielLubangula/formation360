
    <main class="container">
        <section id="accueil" class="about">
            <div class="about-content">
                <h1 class="rotating-text">
                    <span class="text-layer">Formation360</span>
                    <span class="text-layer">Votre Partenaire</span>
                    <span class="text-layer">De Développement</span>
                    <span class="text-layer">Professionnel</span>
                </h1>
                <p class="rotating-subtitle">Votre partenaire pour l'excellence professionnelle et le développement des compétences</p>
                <div class="rotating-circle">
                    <div class="circle-container">
                        <div class="main-circle">
                            <div class="circle-text">360</div>
                        </div>
                        <div class="orbit-ring"></div>
                        <div class="orbit-ring"></div>
                        <div class="orbit-ring"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="formations" class="formations">
            <h2>Nos Formations</h2>
            <div class="formation-grid">
                <div class="formation-card">
                    <a href="./programmationWeb" class="formation-card-link">
                        <i class="fas fa-code"></i>
                        <h3>Programmation Web</h3>
                        <p>Maîtrisez le développement web moderne avec HTML, CSS, JavaScript et frameworks.</p>
                    </a>
                </div>
                <div class="formation-card">
                    <a href="./javascript" class="formation-card-link">
                        <i class="fab fa-js"></i>
                        <h3>JavaScript</h3>
                        <p>Apprenez à créer des applications web dynamiques et interactives avec JavaScript.</p>
                    </a>
                </div>
                <div class="formation-card">
                    <a href="./photoshop" class="formation-card-link">
                        <i class="fas fa-image"></i>
                        <h3>Adobe Photoshop</h3>
                        <p>Apprenez à éditer et retoucher des images professionnellement.</p>
                    </a>
                </div>
                <div class="formation-card">
                    <a href="./word" class="formation-card-link">
                        <i class="fas fa-file-word"></i>
                        <h3>Microsoft Word</h3>
                        <p>Devenez un expert de la rédaction et mise en page de documents.</p>
                    </a>
                </div>
                <div class="formation-card">
                    <a href="./excel" class="formation-card-link">
                        <i class="fas fa-table"></i>
                        <h3>Microsoft Excel</h3>
                        <p>Maîtrisez l'analyse de données et les tableaux complexes.</p>
                    </a>
                </div>
                <div class="formation-card">
                    <a href="maintenace" class="formation-card-link">
                        <i class="fas fa-laptop"></i>
                        <h3>Maintenance Informatique</h3>
                        <p>Apprenez à diagnostiquer et réparer des systèmes informatiques.</p>
                    </a>
                </div>
            </div>
        </section>

        <section id="inscription" class="inscription">
            <h2>Formulaire d'Inscription</h2>
            <form id="inscriptionForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nom">Nom *</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>
                    <div class="form-group">
                        <label for="prenom">Prénom *</label>
                        <input type="text" id="prenom" name="prenom" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="telephone">Téléphone *</label>
                        <input type="tel" id="telephone" name="telephone" required>
                    </div>
                    <div class="form-group">
                        <label for="dateNaissance">Date de Naissance</label>
                        <input type="date" id="dateNaissance" name="dateNaissance">
                    </div>
                    <div class="form-group">
                        <label for="formation">Formation souhaitée *</label>
                        <select id="formation" name="formation" required>
                            <option value="">Sélectionnez une formation</option>
                            <option value="programmation-web">Programmation Web</option>
                            <option value="javascript">JavaScript</option>
                            <option value="photoshop">Adobe Photoshop</option>
                            <option value="word">Microsoft Word</option>
                            <option value="excel">Microsoft Excel</option>
                            <option value="maintenance-informatique">Maintenance Informatique</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="niveau">Niveau *</label>
                        <select id="niveau" name="niveau" required>
                            <option value="">Sélectionnez votre niveau</option>
                            <option value="debutant">Débutant</option>
                            <option value="intermediaire">Intermédiaire</option>
                            <option value="avance">Avancé</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label for="motivation">Motivations</label>
                        <textarea id="motivation" name="motivation" rows="4"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <button id="submitButton" type="submit">S'inscrire</button>

                    <div id="spinner" style="display: none; text-align : center">
                        <img src="/images/spinner.gif" alt="Chargement..." style="width: 100px; height: 100px;">
                    </div>
                </div>
            </form>
        </section>
    </main>

    <script>
document.getElementById('inscriptionForm').addEventListener('submit', async (event) => {
    event.preventDefault();
     const spinner = document.getElementById('spinner');
    const submitButton = document.getElementById('submitButton');

    const formData = {
        nom: document.getElementById('nom').value,
        prenom: document.getElementById('prenom').value,
        email: document.getElementById('email').value,
        telephone: document.getElementById('telephone').value,
        dateNaissance: document.getElementById('dateNaissance').value,
        formation: document.getElementById('formation').value,
        niveau: document.getElementById('niveau').value,
        motivation: document.getElementById('motivation').value
    };

     // Afficher le spinner et masquer le bouton
    submitButton.style.display = 'none';
    spinner.style.display = 'inline-block';

    try {
        const response = await fetch('/api/inscription', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (response.ok) {
             // Display confirmation modal
            showConfirmationModal(formData);
        } else {
            alert('Erreur : ' + result.error);
        }
    } catch (error) {
        console.error('Erreur de connexion au serveur:', error);
        alert('Une erreur s\'est produite lors de l\'envoi des données.');
    } finally {
        // Réafficher le bouton et masquer le spinner
        submitButton.style.display = 'inline-block';
        spinner.style.display = 'none';
    }
});

    // Helper function to get full formation label
    function getFormationLabel(formation) {
        const formationLabels = {
            'programmation-web': 'Programmation Web',
            'javascript': 'JavaScript',
            'photoshop': 'Adobe Photoshop',
            'word': 'Microsoft Word',
            'excel': 'Microsoft Excel',
            'maintenance-informatique': 'Maintenance Informatique'
        };
        return formationLabels[formation] || formation;
    }

    // Helper function to get full niveau label
    function getNiveauLabel(niveau) {
        const niveauLabels = {
            'debutant': 'Débutant',
            'intermediaire': 'Intermédiaire',
            'avance': 'Avancé'
        };
        return niveauLabels[niveau] || niveau;
    }



// Function to show confirmation modal
    function showConfirmationModal(data) {
        // Create modal overlay
        const modalOverlay = document.createElement('div');
        modalOverlay.className = 'modal-overlay';

        // Create modal container
        const modal = document.createElement('div');
        modal.className = 'confirmation-modal';

        // Modal HTML structure
        modal.innerHTML = `
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Confirmation d'Inscription</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="confirmation-details">
                        <div class="detail-section">
                            <h3>Bonjour ${data.prenom} ${data.nom},</h3>
                            <p>Nous sommes ravis de confirmer votre inscription à la formation :</p>
                            <div class="formation-info">
                                <span class="label">Formation :</span>
                                <span class="value">${getFormationLabel(data.formation)}</span>
                            </div>
                            <div class="formation-info">
                                <span class="label">Niveau :</span>
                                <span class="value">${getNiveauLabel(data.niveau)}</span>
                            </div>
                        </div>

                        <div class="contact-section">
                            <h3>Informations de Contact</h3>
                            <div class="contact-details">
                                <div class="contact-info">
                                    <span class="label">Email :</span>
                                    <span class="value">${data.email}</span>
                                </div>
                                <div class="contact-info">
                                    <span class="label">Téléphone :</span>
                                    <span class="value">${data.telephone}</span>
                                </div>
                            </div>
                        </div>

                        <div class="location-section">
                            <h3>Lieu de Formation</h3>
                            <div class="location-details">
                                <p>Formation360 - Centre de Formation Professionnelle</p>
                                <p>123 Rue de la Technologie</p>
                                <p>75001 Paris, France</p>
                                <a href="https://maps.google.com" target="_blank" class="map-link">
                                    <i class="fas fa-map-marker-alt"></i> Voir sur Google Maps
                                </a>
                            </div>
                        </div>

                        <div class="next-steps">
                            <h3>Prochaines Étapes</h3>
                            <ul>
                                <li>Un email de confirmation vous sera envoyé sous peu</li>
                                <li>Préparez les documents nécessaires pour le premier jour de formation</li>
                                <li>Consultez votre email pour plus de détails</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-confirm-btn">Compris</button>
                </div>
            </div>
        `;

        // Append modal to overlay and overlay to body
        modalOverlay.appendChild(modal);
        document.body.appendChild(modalOverlay);

        // Close modal functions
        function closeModal() {
            document.body.removeChild(modalOverlay);
        }

        // Close on cross button
        modal.querySelector('.modal-close').addEventListener('click', closeModal);

        // Close on confirm button
        modal.querySelector('.modal-confirm-btn').addEventListener('click', closeModal);

        // Close when clicking outside modal
        modalOverlay.addEventListener('click', function(event) {
            if (event.target === modalOverlay) {
                closeModal();
            }
        });

        // Prevent modal content from closing when clicked
        modal.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    }

</script>

